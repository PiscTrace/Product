# PiscTrace

 结合了OpenCV和YOLO进行图像数据分析，使用MiDaS单目景深增强。OpenCV作为一个强大的计算机视觉库，提供了图像处理、预处理和后处理的基础功能，而YOLO（ You Only Look Once ）则是一种高效的目标检测算法，能够在实时环境中快速识别和定位图像中的多个物体。通过OpenCV对输入数据进行必要的预处理，然后利用YOLO进行目标检测，能够在图像中准确地识别出各类物体，并输出其位置与类别。这种组合为快速且高精度的图像分析提供了有力支持。


## 核心功能
### 输入支持
- 支持静态图片（JPG/PNG等）、摄像头视频流、网络视频流（RTSP/HTTP等）
- 适用于实时监控、自动驾驶等场景

### 渲染与保存
- 输出格式：图像、视频
- 数据导出：检测结果（CSV）

### OpenCV 预处理
- **预处理**
 - 视图裁剪
 - 滤镜平衡
 - 曲线调整
 - 视图矫正

- **基础调整**：
 - 亮度
 - 曝光度
 - 灰度
 - 阈值
 - 色相

 - **开发者模式**
  - 编程接口允许开发者直接访问和操作图像的像素矩阵。
  - 提供固定工具类格式，无缝加载执行

### MiDaS 深度估计
- 单目深度图生成
- 掩码遮罩

### YOLO 对象检测
- 支持版本：v8/v9/v10/v11/v12
- 支持类型：
  - 对象检测
  - Pose姿态检测
  - mask实例分割
  - OBB 可旋转对象
- 内置功能
  - 轨迹跟踪
  - 置信度
  - 交叉阈值
  - 进阶操作
   - 围栏统计
   - 热力监控
   - 姿态监控
   - 姿态轨迹
   - 背景虚化
   - 视线检测
   - 自定义检测

## 技术特性
| 特性          | 描述                                                                 |
|---------------|----------------------------------------------------------------------|
| **CUDA加速**  | 深度估计/物体检测任务GPU加速                      |
| **插件系统**  | 支持Python件扩展，可集成自定义算法                            |
| **插件接口**   | 提供像素级操作接口（矩阵访问/ROI区域处理）                          |

## 版本功能对比

| 版本   | 本地图片 | 本地视频 | 网络视频 | OpenCV | YOLO | MiDaS | 保存处理 | 摄像头支持 | 开发接口 | 密钥系统 | 定价   |
|:------:|:--------:|:--------:|:--------:|:------:|:----:|:-----:|:--------:|:----------:|:--------:|:--------:|:------:|
| Note   | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ❌        | ❌          | ❌        | ✅        | ¥6     |
| Plus   | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ❌          | ❌        | ✅        | ¥38    |
| Pro    | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ✅          | ❌        | ✅        | ¥88    |
| Ultra  | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ✅          | ✅        | ✅        | ¥128   |

### 🔒 购买与升级说明

- 所有版本均启用密钥绑定机制（**每台主机独立授权**）
- 表格中价格为**首次购买价**
- **每次升级需支付 ¥6 手续费**
- **升级价格计算公式：** `目标版本售价 - 当前版本售价 + ¥6`

> 例如：Plus 升级到 Ultra：
> - `¥128 - ¥38 + ¥6 = ¥69`



   
# PiscCode
基于 PiscTrace 架构的视图处理的开发者版本，支持静态图片、实时视频流、摄像头视频流和网络视频流的处理。与 PiscTrace 应用版相比，开发者版通过直接的代码开发，提供了更高的灵活性和可定制性，适用于需要深度定制和复杂处理的应用场景。
## 核心功能
### 输入支持
- 支持静态图片（JPG/PNG等）、摄像头视频流、网络视频流（RTSP/HTTP等）
- 适用于实时监控、自动驾驶等场景

### 渲染与保存
- 输出格式：图像、视频

## 版本功能对比

| 版本  | 本地图片 | 本地视频 | 网络视频 | 保存处理 | 摄像头 | 密钥 | 定价 |
|:-----:|:--------:|:--------:|:--------:|:--------:|:------:|:----:|:----:|
| Note  | ✅        | ✅        | ✅        | ❌        | ❌      | ✅    | ¥6    |
| Plus  | ✅        | ✅        | ✅        | ✅        | ❌      | ✅    | ¥56   |
| Pro   | ✅        | ✅        | ✅        | ✅        | ✅      | ✅    | ¥96   |

### 🔒 购买与升级说明

- 所有版本均启用密钥绑定机制（**每台主机独立授权**）
- 表格中价格为**首次购买价**
- **每次升级需支付 ¥6 手续费**
- **升级价格计算公式：** `目标版本售价 - 当前版本售价 + ¥6`

> 例如：Plus 升级到 Pro：
> - `¥96 - ¥56 + ¥6 = ¥46`

# 常见问题（FAQ）

## 如何使用 CUDA 加速
- 需具备 **NVIDIA CUDA 核心显卡**。
- 请确保已安装对应版本的 **CUDA 环境** 以及 **兼容的 PyTorch 库**。

## 如何导入 YOLO 模型
- 将 `.pt` 格式的 YOLO 模型文件放入目录：  
  `解压地址/Support Files/data/model`

## 为什么没有 MiDaS 选项
- **MiDaS** 是一个 GitHub 在线资源。
- 使用时请确保您的计算机可以访问 **GitHub 网络**。

## 如何导入文件
- 将文件放置在：  
  `项目地址/input`  
- 或者直接将文件/文件夹 **拖入文件栏** 以临时使用。

## 自定义运行时报错“库文件缺失”
- 请将所需库文件放入目录：  
  `解压地址/_internal`

## 如何导出视频
- 在画面上 **右键点击**：
  - 可选择 **保存当前帧**
  - 或选择 **导出完整视频**

## 无法调整参数或设置无效
- 请尝试 **单击参数标题** 以激活该参数设置。
- 再次点击可取消当前参数。


# 使用须知
## 软件类商品销售及退货政策声明

### 一、法律依据声明
根据《中华人民共和国消费者权益保护法》第二十五条、《最高人民法院关于审理网络消费纠纷案件适用法律若干问题的规定（一）》第三条，对软件类商品作如下特别约定：

> **法定排除条款**  
> “在线下载的数字产品（含软件授权码、激活码、程序包等）**不适用七日无理由退货**，消费者已确认知悉该特殊性。”（《消法》第二十五条第三项）

### 二、退货条件限制
#### 支持退货的情形（需提供有效证据）：
1. **无法正常使用**  
   - 软件激活后出现技术故障导致无法运行（需提交故障录屏及系统日志）
   - 功能与商品描述存在**实质性差异**（需对比宣传页与实测记录）
   - 本产品下载后方能申请 **密钥** ，发出 **申请** 即视为可以正常使用
2. **未激活可退**  
   - 未下载、未刮开激活码密封层的订单（需在7日内申请）
   - 本产品下载申请后方能申请 **密钥** ，发出 **密钥** 即视为产品已经激活

### 不支持退货情形详细条款说明

| 类型                | 详细条款内容                                                                                                                               | 法律依据及补充说明                                                                                                                                                                                                                                   |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **激活后主观理由退货** | 1. **适用商品范围**：手机、电脑、数码产品等一经激活或试用后价值显著贬损的商品<br>2. **免责条件**：需在销售页面**显著位置**提示"激活后不支持无理由退货"，并在支付前设置强制确认程序<br>3. **举证责任**：商家需证明已履行提示义务（如弹窗确认、加粗字体等） | • 《消法》第二十五条：数字化商品或拆封后价值贬损商品不适用无理由退货<br>• 《网络购买商品七日无理由退货暂行办法》第七条：激活后价值贬损商品经消费者确认可不适用退货                                                                                      |
| **因设备不兼容退货**  | 1. **免责前提**：商家已明确标注商品的系统要求（如操作系统版本、硬件配置）<br>2. **消费者义务**：购买前需自行核验设备兼容性<br>3. **技术支持**：商家仅需提供技术指导，无退货责任（如驱动安装、设置调整）                   | • 《网络交易管理办法》第十条：经营者应真实披露商品信息，消费者需自行承担选购责任<br>• 《消法》第二十条：商家对商品性能的说明无虚假宣传即免责                                                                                                              |
| **购买后降价要求补偿** | 1. **定价自主权**：除保价承诺外，经营者可随时调整价格，市场波动不构成退货理由<br>2. **赠品扣除限制**：差价计算时不得强制扣除赠品价值（除非消费者选择保留赠品）<br>3. **格式条款无效**：单方规定"降价不补差"的条款未显著提示的无效 | • 《民法典》第五百八十三条：合同履行后价格变动不可主张补偿（情势变更原则）<br>• 司法判例：强制扣除赠品价值的保价条款属无效格式条款（广州互联网法院案例）                                                                                        |


## 下载链接:
 - **PiscTrace** : [下载地址](https://gitcode.com/weixin_43607107/PiscTrace/releases/download/PiscTrace/PiscTrace-影迹.zip)
 - **PiscCode** : [下载地址](https://gitcode.com/weixin_43607107/PiscTrace/releases/download/PiscCode/PiscCode-影迹.zip)
