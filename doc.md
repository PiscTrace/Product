# PiscTrace

**PiscTrace** 是一款功能强大的机器视觉桌面应用，结合了 OpenCV 与 YOLO 技术进行图像数据分析，并通过 MiDaS 实现单目深度估计增强。  
该系统具备高性能、可扩展性强的特点，适用于实时监控、目标检测、智能交通等计算机视觉任务。

OpenCV 提供强大的图像预处理与后处理功能，YOLO（You Only Look Once）实现高效目标识别与定位，MiDaS 增强图像深度感知能力，三者协同构建了一个高精度、可定制的视觉处理平台。


## 核心功能

### 输入支持
- 支持多种输入源：
  - 静态图片（JPG / PNG 等）
  - 摄像头实时流
  - 网络视频流（RTSP / HTTP 等）
- 适用于实时监控、自动驾驶等应用场景

### 渲染与结果导出
- 支持输出图像.png与视频文件.mp4
- 检测结果可导出为 CSV 文件，便于进一步分析与对接


## 图像处理与分析

### OpenCV 预处理功能

| 模块           | 功能项                     | 描述说明                                   |
|----------------|----------------------------|--------------------------------------------|
| 图像预处理     | 视图裁剪                   | 裁剪图像视野，仅保留目标区域               |
|                | 滤镜平衡                   | 自动或手动调整图像色调/对比                |
|                | 曲线调整                   | 类似 Photoshop 的曲线增强对比和亮度        |
|                | 视图矫正                   | 修正因拍摄角度或设备倾斜产生的畸变         |
| 基础调整       | 亮度 / 曝光度              | 提升或降低图像亮度                         |
|                | 灰度化 / 阈值化            | 灰度转换与二值化，适用于边缘检测等         |
|                | 色相调整                   | 调整图像整体色彩                           |
| 开发者模式     | 编程接口                   | 提供像素矩阵访问接口，可脚本操作图像       |
|                | 工具类支持                 | 封装常用处理逻辑，便于调用与自动执行       |


### MiDaS 深度估计功能

| 功能项         | 描述说明                                     |
|----------------|----------------------------------------------|
| 单目深度图生成 | 利用单张图像生成景深图，估算物体远近关系     |
| 伪彩色掩码遮罩   | 提供深度相关掩码，便于聚焦、分割、滤波操作   |


### YOLO 目标检测功能

| 类别         | 项目                           | 描述说明                                         |
|--------------|----------------------------------|--------------------------------------------------|
| 支持版本     | v8 / v9 / v10 / v11 / v12       | 不支持无检测框数据的分类模型                             |
| 检测类型     | 对象检测（Object Detection）    | 检测图像中多个目标位置与类别                     |
|              | 姿态检测（Pose Estimation）     | 骨骼点位识别                                     |
|              | 实例分割（Mask Segmentation）   | 为每个目标提供像素级分割掩码                     |
|              | 可旋转框（Oriented BBox）       | 支持任意角度的目标框                             |
| 增强功能     | 轨迹跟踪（Tracking）            | 实时跟踪物体移动轨迹                             |
|              | 置信度 / 交叉阈值控制          | 精细控制目标筛选精度                             |
|              | 围栏统计                        | 判断目标是否进入指定区域                         |
|              | 热力图监控                      | 可视化目标活跃区域                               |
|              | 姿态轨迹                        | 跟踪人物或物体动作路径                           |
|              | 背景虚化                        | 自动识别前景后虚化背景                           |
|              | 视线检测                        | 分析人物目光方向                                 |
|              | 自定义检测                      | 支持导入自定义模型与检测逻辑                     |


## 技术特性一览

| 特性名称        | 描述                                                             |
|-----------------|------------------------------------------------------------------|
| **CUDA 加速**    | 支持 GPU 加速，提升深度估计与检测效率                            |
| **插件系统**     | 支持 Python 插件扩展，便于集成自定义算法                          |
| **插件接口**     | 提供像素级矩阵访问，支持 ROI 区域处理和高级图像操作              |



## 版本功能对比
<span style="color:red; font-weight:bold;"> 限时优惠 5 折 ！ </span>

| 版本   | 本地图片 | 本地视频 | 网络视频 | OpenCV | YOLO | MiDaS | 保存处理 | 摄像头支持 | 开发接口 | 密钥 | 定价 | 现价 | 
|:------:|:--------:|:--------:|:--------:|:------:|:----:|:-----:|:--------:|:----------:|:--------:|:--------:|:------:|:------:|
| Note   | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ❌        | ❌          | ❌        | ✅ | <s> ¥18  </s> | ¥8     |
| Plus   | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ❌          | ❌        | ✅ | <s> ¥78  </s> | ¥38    |
| Pro    | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ✅          | ❌        | ✅ | <s> ¥168 </s> | ¥88    |
| Ultra  | ✅        | ✅        | ✅        | ✅      | ✅    | ✅     | ✅        | ✅          | ✅        | ✅ | <s> ¥258 </s> | ¥128   |

### 购买与升级说明

- 所有版本均启用密钥绑定机制（**每台主机独立授权**）
- 表格中价格为**首次购买价**
- **每次升级需支付 ¥8 手续费**
- **升级价格计算公式：** `目标版本售价 - 当前版本售价 + ¥8`

> 例如：Plus 升级到 Ultra：
> - `¥128 - ¥38 + ¥8 = ¥98`
> **转账备注邮箱需要和申请时接受密钥邮箱一致**
> - ![欢迎光临](static/image/Group%202.png)




   
# PiscCode
基于 PiscTrace 架构的视图处理的开发者版本，支持静态图片、实时视频流、摄像头视频流和网络视频流的处理。与 PiscTrace 应用版相比，开发者版通过直接的代码开发，提供了更高的灵活性和可定制性，适用于需要深度定制和复杂处理的应用场景。
## 核心功能
### 输入支持
- 支持静态图片（JPG/PNG等）、摄像头视频流、网络视频流（RTSP/HTTP等）
- 适用于实时监控、自动驾驶等场景

### 渲染与保存
- 输出格式：图像.png、视频.mp4

## 版本功能对比
<span style="color:red; font-weight:bold;"> 限时优惠 5 折 ！ </span>

| 版本  | 本地图片 | 本地视频 | 网络视频 | 保存处理 | 摄像头 | 密钥 | 定价 | 现价 | 
|:-----:|:--------:|:--------:|:--------:|:--------:|:------:|:----:|:----:|:----:|
| Note  | ✅        | ✅        | ✅        | ❌        | ❌      | ✅ | <s> ¥18  </s> | ¥8    |
| Plus  | ✅        | ✅        | ✅        | ✅        | ❌      | ✅ | <s> ¥128 </s> | ¥58   |
| Pro   | ✅        | ✅        | ✅        | ✅        | ✅      | ✅ | <s> ¥198 </s> | ¥98   |

### 购买与升级说明

- 所有版本均启用密钥绑定机制（**每台主机独立授权**）
- 表格中价格为**首次购买价**
- **每次升级需支付 ¥8 手续费**
- **升级价格计算公式：** `目标版本售价 - 当前版本售价 + ¥8`

> 例如：Plus 升级到 Ultra：
> - `¥128 - ¥38 + ¥8 = ¥98`
> **转账备注邮箱需要和申请时接受密钥邮箱一致**
> - ![欢迎光临](static/image/Group%202.png)

# ❓ 常见问题（FAQ）

## 首次使用

| 问题                         | 解答                                                                 |
|------------------------------|----------------------------------------------------------------------|
| 如何获得密钥？         | - 新建项目时填写相关信息选择对应版本发送申请                                    |
| 如何导入资源？         | - 手动将视频/图片拖入文件列表                                                 |
| 如何处理资源？         | - 右键单击选择视图处理打开处理面板                                             |
| 如何使用摄像头？       | - 当您的版本支持摄像头时，选择文件/切换数据源                                   |

## CUDA环境

| 问题                         | 解答                                                                 |
|------------------------------|----------------------------------------------------------------------|
| 如何使用 CUDA 加速？         | - 需具备 **NVIDIA CUDA 核心显卡**<br>- 安装对应版本的 **CUDA 驱动** 与 **PyTorch 库** |


## 模型加载

| 问题                        | 解答                                                                 |
|-----------------------------|----------------------------------------------------------------------|
| 如何导入 YOLO 模型？        | 将 `.pt` 格式的 YOLO 模型放入目录： `解压地址/Support Files/data/model` |
| 为什么没有 MiDaS 选项？     | - MiDaS 使用 **GitHub 在线资源与配置**<br>- 请确保网络可访问 GitHub<br>- **首次加载时间较长**，包括模型与配置 |
| 自己微调的 YOLO 模型如何使用？ | - 模型放入模型文件夹<br>- 可替换 `解压地址/_internal/ultralytics` 等相关库文件<br>- 注意保持模型输入输出接口一致，勿改动数据流逻辑 |


## 文件导入与管理

| 问题                     | 解答                                                                 |
|--------------------------|----------------------------------------------------------------------|
| 如何导入文件？            | - 将文件放入：`项目地址/input`<br>- 或直接将文件/文件夹拖入文件栏 |
| 如何切换摄像头或文件？    | - 通过 `文件 > 切换数据源` 进行切换<br>- 支持多个摄像头接入，建议根据硬件资源合理配置 |

## 参数设置与视频导出

| 问题                          | 解答                                                                 |
|-------------------------------|----------------------------------------------------------------------|
| 无法调整参数或设置无效？      | 单击参数标题以激活该参数，再次点击可取消                            |
| 如何导出视频？                | - 在画面上 **右键点击**<br>- 可选择“保存当前帧”或“导出完整视频”       |


## 摄像头与保存

| 问题                              | 解答                                                                 |
|-----------------------------------|----------------------------------------------------------------------|
| 摄像头不支持渲染保存？            | - 实时预览模式不支持录制处理结果<br>- 支持多开预览 + 原始视频录制，保存路径为 `项目地址/input` |
| 为什么只支持预览？            | - 为保证预览的实时性，每次都会对最新的帧进行计算<br>- 受硬件配置、实际系统资源和算法复杂程度，模型大小等，无法保证每一帧都能够及时的被计算 |


## 库文件缺失处理

| 问题                             | 解答                                                                  |
|----------------------------------|-----------------------------------------------------------------------|
| 自定义运行时报错“库文件缺失”？   | 请将所需库文件放入目录：`解压地址/_internal`                         |


# 使用须知

## 运行环境与最低配置要求

| 项目           | 最低配置说明                                             |
|----------------|----------------------------------------------------------|
| 操作系统       | Windows 11                                               |
| 处理器         | Intel Core i7-8550U 或同等性能处理器                     |
| 显卡           | NVIDIA MX150（2GB 显存）或集成显卡（计算速度受限，支持运行）|
| 内存           | 8 GB RAM                                                 |
| 存储空间       | 软件包解压后约 5.3 GB                                    |
| 模型资源       | 需根据需求手动导入（如 YOLO、MiDaS 等）                  |



## 软件类商品销售及退货政策声明  
**生效日期：2025年7月6日**  

### 法律合规性声明  
依据《中华人民共和国消费者权益保护法》第二十五条及《网络购买商品七日无理由退货暂行办法》第七条规定：  
> **所有在线下载的数字商品（含软件授权码、激活码、程序包等）不适用七日无理由退货**  
> 消费者购买即视为确认知悉数字商品的特殊性。


### 退货条件与流程  
#### 仅接受以下有证据支持的退货情形  

| 退货情形             | 消费者义务                          | 商家处理方式               |
|----------------------|-------------------------------------|----------------------------|
| **软件无法正常运行** | 提供故障录屏+系统日志               | 协助排查或核实后退款     |
| **功能与描述严重不符** | 提交宣传页与实测功能对比证据        | 确认后退全款               |
| **密钥未激活**       | 证明未申请密钥或商家未发送密钥（7日内） | 无条件退款               |

> **关键定义说明**  
> - **"激活"标准**：消费者下载软件后提交密钥申请即视为接受商品  
> - **"交付完成"**：商家发出密钥即确认商品交付流程终结  

### 不支持退货的法定情形  

#### 设备不兼容问题（不担责）  

| 商家义务                 | 消费者责任               |
|--------------------------|--------------------------|
| 显著标注系统要求         | 购买前自行核验兼容性     |
| 提供基础技术指导         | 承担设备不适配风险       |

- **法律支持**  
《民法典》第五百八十三条：合同履行后的价格变动不构成违约  

### 消费者违规处理  
发现以下行为将拒绝退货并追究责任：  
1. 提供伪造的故障证据  
2. 密钥激活后谎称"未使用"  
3. 因设备问题诬称软件故障  

> **重要提示**：下载即视为完全接受本政策所有条款  

**声明效力**：本政策已通过支付确认弹窗等显著方式提示，完成支付即构成合同生效要件。  
**最终解释权归商家所有**  

> **商家特别提示**  
> 根据最高人民法院法释〔2022〕8号司法解释：  
> - 经显著提示的数字商品退货限制条款具有完全法律效力  
> - 建议消费者下载前务必：  
>     1. 核验设备兼容性  
>     2. 确认商品功能描述  
>     3. 了解密钥激活不可逆特性  

## 解压密码

<details>
<summary><strong>点击查看解压密码</strong></summary>

**解压密码：20245108**  

> 输入解压密码即表示：
> - 您已经拥有支持运行的平台
> - 您已经仔细阅读本文档的全部内容
> - 您已经充分了解软件特性
> - 您已经同意所有相关条款

</details>
